(()=>{"use strict";localStorage.clear();let e="home";localStorage.setItem("currentProject",e),localStorage.setItem("projects",JSON.stringify({home:[]})),console.log("startup values:"),console.log(localStorage.getItem("currentProject")),console.log(JSON.parse(localStorage.getItem("projects"))),document.querySelector("#plus-button").addEventListener("click",(()=>{document.querySelector("#to-do-form").style.display="flex"})),document.querySelector("#x-icon").addEventListener("click",(()=>{document.querySelector("#to-do-form").style.display="none"})),document.querySelector("#add-project-button").addEventListener("click",(()=>{document.querySelector("#new-project-form").style.display="block"})),document.querySelector("#project-cancel-button").addEventListener("click",(()=>{document.querySelector("#new-project-form").style.display="none"})),function(){let e=localStorage.getItem("currentProject"),t=JSON.parse(localStorage.getItem("projects"));window.formSubmit=function(){const o=document.querySelector("#form-title").value,r=document.querySelector("#form-description").value,c=document.querySelector("#form-date").value,l=document.querySelector('input[name="form-priority"]:checked').value;document.querySelector("#to-do-form").reset(),document.querySelector("#to-do-form").style.display="none";let n=((e,t,o,r)=>({getTitle:()=>e,getDescription:()=>t,getDueDate:()=>o,getPriority:()=>r}))(o,r,c,l);!function(e,t){let o=document.createElement("div");o.className=t+" to-do";let r=document.createElement("div"),c=document.createElement("div");c.className="title";let l=document.createElement("div");l.className="description";let n=document.createElement("div");n.className="date","low"==e.getPriority()&&r.classList.add("todo-prio","low-prio"),"medium"==e.getPriority()&&r.classList.add("todo-prio","med-prio"),"high"==e.getPriority()&&r.classList.add("todo-prio","high-prio"),c.textContent=e.getTitle(),l.textContent=e.getDescription(),n.textContent=e.getDueDate(),o.appendChild(c),o.appendChild(l),o.appendChild(n),o.appendChild(r),document.querySelector("#main-area").appendChild(o)}(n,e),t[e].push(n),localStorage.setItem("projects",JSON.stringify(t)),console.log("after to do created:"),console.log(e),console.log(JSON.parse(localStorage.getItem("projects")))},document.querySelector("#to-do-form").setAttribute("onsubmit","formSubmit();return false")}(),function(){let e=JSON.parse(localStorage.getItem("projects")),t=localStorage.getItem("currentProject");window.projFormSubmit=function(){let o=document.querySelector("#project-title").value.toLowerCase();if(console.log("before new project created:"),console.log(t),console.log(e),!(o in e)&&""!==o){let r=document.createElement("h2");r.className="sidebar-option",r.id=o,r.textContent=o.toUpperCase(),document.querySelector("#sidebar").appendChild(r),e.newProjTitle=[],console.log("after new project created:"),console.log(t),console.log(e),localStorage.setItem("projects",JSON.stringify(e)),document.querySelector(`#${o}`).addEventListener("click",(()=>{document.querySelectorAll(`.${t}`).forEach((e=>{e.style.display="none"})),t=o,localStorage.setItem("currentProject",t),document.querySelectorAll(`.${t}`).forEach((e=>{e.style.display="grid"})),document.querySelector("#main-area-title").textContent=t.toUpperCase()}))}document.querySelector("#new-project-form").reset(),document.querySelector("#new-project-form").style.display="none"},document.querySelector("#new-project-form").setAttribute("onsubmit","projFormSubmit();return false")}(),document.querySelector("#home").addEventListener("click",(()=>{document.querySelectorAll(`.${e}`).forEach((e=>{e.style.display="none"})),e="home",document.querySelectorAll(`.${e}`).forEach((e=>{e.style.display="grid"})),document.querySelector("#main-area-title").textContent=e.toUpperCase()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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USxTQUFTc0MsaUJBQWlCLElBQUk5QyxLQUFrQitDLFNBQVFDLElBQ3BEQSxFQUFRckMsTUFBTUMsUUFBVSxVQUU1QkosU0FBU0MsY0FBYyxvQkFBb0J5QixZQUFjbEMsRUFBZTZDLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvZXZlbnRzLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL3N1Ym1pdFRvRG9Gb3JtLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL3RvRG8uanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY3JlYXRlVG9Eb0RPTS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9wcm9qZWN0Rm9ybVN1Ym1pdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVudHMgfSBmcm9tICcuL2V2ZW50cy5qcyc7XG5pbXBvcnQgeyBzdWJtaXRUb0RvRm9ybSB9IGZyb20gJy4vc3VibWl0VG9Eb0Zvcm0uanMnO1xuaW1wb3J0IHsgcHJvamVjdEZvcm1TdWJtaXQgfSBmcm9tICcuL3Byb2plY3RGb3JtU3VibWl0LmpzJ1xuXG5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcblxubGV0IHByb2plY3RzID0geyAnaG9tZSc6IFtdIH07XG5sZXQgY3VycmVudFByb2plY3QgPSAnaG9tZSc7XG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFByb2plY3QnLCBjdXJyZW50UHJvamVjdCk7XG5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cykpO1xuXG5jb25zb2xlLmxvZygnc3RhcnR1cCB2YWx1ZXM6Jyk7XG5jb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFByb2plY3QnKSk7XG5jb25zb2xlLmxvZyhKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKSk7XG5cbmV2ZW50cygpO1xuc3VibWl0VG9Eb0Zvcm0oKTtcbnByb2plY3RGb3JtU3VibWl0KCk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob21lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y3VycmVudFByb2plY3R9YCkuZm9yRWFjaCh0b0RvRE9NID0+IHtcbiAgICAgICAgdG9Eb0RPTS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pXG4gICAgY3VycmVudFByb2plY3QgPSAnaG9tZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y3VycmVudFByb2plY3R9YCkuZm9yRWFjaCh0b0RvRE9NID0+IHtcbiAgICAgICAgdG9Eb0RPTS5zdHlsZS5kaXNwbGF5ID0gJ2dyaWQnO1xuICAgIH0pXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tYXJlYS10aXRsZScpLnRleHRDb250ZW50ID0gY3VycmVudFByb2plY3QudG9VcHBlckNhc2UoKTtcbn0pOyIsImZ1bmN0aW9uIGV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGx1cy1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvLWRvLWZvcm0nKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3gtaWNvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG8tZG8tZm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLXByb2plY3QtYnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXctcHJvamVjdC1mb3JtJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgfSlcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWNhbmNlbC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy1wcm9qZWN0LWZvcm0nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pXG59XG5cbmV4cG9ydCB7IGV2ZW50cyB9IiwiaW1wb3J0IHsgdG9EbyB9IGZyb20gJy4vdG9Eby5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUb0RvRE9NIH0gZnJvbSAnLi9jcmVhdGVUb0RvRE9NJztcblxuZnVuY3Rpb24gc3VibWl0VG9Eb0Zvcm0oKSB7XG4gICAgbGV0IGN1cnJlbnRQcm9qZWN0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRQcm9qZWN0Jyk7XG4gICAgbGV0IHByb2plY3RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJvamVjdHMnKSk7XG5cbiAgICB3aW5kb3cuZm9ybVN1Ym1pdCA9IGZ1bmN0aW9uIGZvcm1TdWJtaXQoKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tdGl0bGUnKS52YWx1ZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybS1kZXNjcmlwdGlvbicpLnZhbHVlO1xuICAgICAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm0tZGF0ZScpLnZhbHVlO1xuICAgICAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJmb3JtLXByaW9yaXR5XCJdOmNoZWNrZWQnKS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvLWRvLWZvcm0nKS5yZXNldCgpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG8tZG8tZm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgbGV0IGFUb0RvID0gdG9Ebyh0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIHByaW9yaXR5KTtcbiAgICAgICAgY3JlYXRlVG9Eb0RPTShhVG9EbywgY3VycmVudFByb2plY3QpO1xuICAgICAgICBwcm9qZWN0c1tjdXJyZW50UHJvamVjdF0ucHVzaChhVG9Ebyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdhZnRlciB0byBkbyBjcmVhdGVkOicpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG8tZG8tZm9ybScpLnNldEF0dHJpYnV0ZSgnb25zdWJtaXQnLCAnZm9ybVN1Ym1pdCgpO3JldHVybiBmYWxzZScpO1xufVxuXG5leHBvcnQgeyBzdWJtaXRUb0RvRm9ybSB9IiwiY29uc3QgdG9EbyA9ICh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSA9PiB7XG4gICAgY29uc3QgZ2V0VGl0bGUgPSAoKSA9PiB0aXRsZTtcbiAgICBjb25zdCBnZXREZXNjcmlwdGlvbiA9ICgpID0+IGRlc2NyaXB0aW9uO1xuICAgIGNvbnN0IGdldER1ZURhdGUgPSAoKSA9PiBkdWVEYXRlO1xuICAgIGNvbnN0IGdldFByaW9yaXR5ID0gKCkgPT4gcHJpb3JpdHk7XG5cbiAgICByZXR1cm4geyBnZXRUaXRsZSwgZ2V0RGVzY3JpcHRpb24sIGdldER1ZURhdGUsIGdldFByaW9yaXR5IH1cbn1cblxuZXhwb3J0IHsgdG9EbyB9IiwiZnVuY3Rpb24gY3JlYXRlVG9Eb0RPTShjdXJyZW50VG9EbywgY3VycmVudFByb2plY3QpIHtcbiAgICBsZXQgdG9EbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvRG8uY2xhc3NOYW1lID0gY3VycmVudFByb2plY3QgKyAnIHRvLWRvJztcblxuICAgIGxldCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRpdGxlLmNsYXNzTmFtZSA9ICd0aXRsZSc7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVzY3JpcHRpb24uY2xhc3NOYW1lID0gJ2Rlc2NyaXB0aW9uJztcbiAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRhdGUuY2xhc3NOYW1lID0gJ2RhdGUnO1xuXG4gICAgaWYgKGN1cnJlbnRUb0RvLmdldFByaW9yaXR5KCkgPT0gJ2xvdycpIHtcbiAgICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndG9kby1wcmlvJywgJ2xvdy1wcmlvJyk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50VG9Eby5nZXRQcmlvcml0eSgpID09ICdtZWRpdW0nKSB7XG4gICAgICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ3RvZG8tcHJpbycsICdtZWQtcHJpbycpO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFRvRG8uZ2V0UHJpb3JpdHkoKSA9PSAnaGlnaCcpIHtcbiAgICAgICAgcHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndG9kby1wcmlvJywgJ2hpZ2gtcHJpbycpO1xuICAgIH1cblxuICAgIHRpdGxlLnRleHRDb250ZW50ID0gY3VycmVudFRvRG8uZ2V0VGl0bGUoKTtcbiAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGN1cnJlbnRUb0RvLmdldERlc2NyaXB0aW9uKCk7XG4gICAgZGF0ZS50ZXh0Q29udGVudCA9IGN1cnJlbnRUb0RvLmdldER1ZURhdGUoKTtcblxuICAgIHRvRG8uYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgIHRvRG8uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgIHRvRG8uYXBwZW5kQ2hpbGQoZGF0ZSk7XG4gICAgdG9Eby5hcHBlbmRDaGlsZChwcmlvcml0eSk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1hcmVhJykuYXBwZW5kQ2hpbGQodG9Ebyk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVRvRG9ET00gfSIsImZ1bmN0aW9uIHByb2plY3RGb3JtU3VibWl0KCkge1xuICAgIGxldCBwcm9qZWN0cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Byb2plY3RzJykpO1xuICAgIGxldCBjdXJyZW50UHJvamVjdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50UHJvamVjdCcpO1xuXG4gICAgd2luZG93LnByb2pGb3JtU3VibWl0ID0gZnVuY3Rpb24gcHJvakZvcm1TdWJtaXQoKSB7XG4gICAgICAgIGxldCBuZXdQcm9qVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10aXRsZScpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2JlZm9yZSBuZXcgcHJvamVjdCBjcmVhdGVkOicpO1xuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RzKTtcblxuICAgICAgICBpZiAoIShuZXdQcm9qVGl0bGUgaW4gcHJvamVjdHMpICYmIG5ld1Byb2pUaXRsZSAhPT0gJycpIHtcbiAgICAgICAgICAgIGxldCBuZXdQcm9qID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgICAgICAgICAgIG5ld1Byb2ouY2xhc3NOYW1lID0gJ3NpZGViYXItb3B0aW9uJztcbiAgICAgICAgICAgIG5ld1Byb2ouaWQgPSBuZXdQcm9qVGl0bGU7XG4gICAgICAgICAgICBuZXdQcm9qLnRleHRDb250ZW50ID0gbmV3UHJvalRpdGxlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2lkZWJhcicpLmFwcGVuZENoaWxkKG5ld1Byb2opO1xuICAgICAgICAgICAgcHJvamVjdHMubmV3UHJvalRpdGxlID0gW107XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYWZ0ZXIgbmV3IHByb2plY3QgY3JlYXRlZDonKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQcm9qZWN0KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RzKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke25ld1Byb2pUaXRsZX1gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjdXJyZW50UHJvamVjdH1gKS5mb3JFYWNoKHRvRG9ET00gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b0RvRE9NLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvamVjdCA9IG5ld1Byb2pUaXRsZTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VycmVudFByb2plY3QnLCBjdXJyZW50UHJvamVjdCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y3VycmVudFByb2plY3R9YCkuZm9yRWFjaCh0b0RvRE9NID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9Eb0RPTS5zdHlsZS5kaXNwbGF5ID0gJ2dyaWQnO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tYXJlYS10aXRsZScpLnRleHRDb250ZW50ID0gY3VycmVudFByb2plY3QudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldy1wcm9qZWN0LWZvcm0nKS5yZXNldCgpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmV3LXByb2plY3QtZm9ybScpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXctcHJvamVjdC1mb3JtJykuc2V0QXR0cmlidXRlKCdvbnN1Ym1pdCcsICdwcm9qRm9ybVN1Ym1pdCgpO3JldHVybiBmYWxzZScpO1xufVxuXG5leHBvcnQgeyBwcm9qZWN0Rm9ybVN1Ym1pdCB9Il0sIm5hbWVzIjpbImxvY2FsU3RvcmFnZSIsImNsZWFyIiwiY3VycmVudFByb2plY3QiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJnZXRJdGVtIiwicGFyc2UiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJkaXNwbGF5IiwicHJvamVjdHMiLCJ3aW5kb3ciLCJmb3JtU3VibWl0IiwidGl0bGUiLCJ2YWx1ZSIsImRlc2NyaXB0aW9uIiwiZGF0ZSIsInByaW9yaXR5IiwicmVzZXQiLCJhVG9EbyIsImR1ZURhdGUiLCJnZXRUaXRsZSIsImdldERlc2NyaXB0aW9uIiwiZ2V0RHVlRGF0ZSIsImdldFByaW9yaXR5IiwidG9EbyIsImN1cnJlbnRUb0RvIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUb0RvRE9NIiwicHVzaCIsInNldEF0dHJpYnV0ZSIsInN1Ym1pdFRvRG9Gb3JtIiwicHJvakZvcm1TdWJtaXQiLCJuZXdQcm9qVGl0bGUiLCJ0b0xvd2VyQ2FzZSIsIm5ld1Byb2oiLCJpZCIsInRvVXBwZXJDYXNlIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJ0b0RvRE9NIiwicHJvamVjdEZvcm1TdWJtaXQiXSwic291cmNlUm9vdCI6IiJ9